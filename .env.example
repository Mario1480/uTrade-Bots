# Bitmart
BITMART_BASE_URL=https://api-cloud.bitmart.com
BITMART_WS_PUBLIC=wss://ws-manager-compress.bitmart.com/api?protocol=1.1
BITMART_API_KEY=your_key
BITMART_API_SECRET=your_secret
BITMART_API_MEMO=your_memo

# P2B
P2B_BASE_URL=https://api.p2pb2b.com
P2B_API_KEY=your_key
P2B_API_SECRET=your_secret

# MEXC
MEXC_BASE_URL=https://api.mexc.com
XT_BASE_URL=https://sapi.xt.com
BINGX_BASE_URL=https://open-api.bingx.com

# DB
DATABASE_URL=postgresql://mm:mm@localhost:5432/mm?schema=public

# Admin seed (first startup)
ADMIN_EMAIL=admin@utrade.vip
ADMIN_PASSWORD=TempAdmin1234!

# Web/API
NEXT_PUBLIC_API_URL=http://localhost:4000
API_URL=http://localhost:4000
API_BASE_URL=http://localhost:4000
# Optional: base URL for Telegram "Open in Manual Desk" links
PANEL_BASE_URL=http://localhost:3000
CORS_ORIGINS=http://localhost:3000
COOKIE_DOMAIN=
COOKIE_SECURE=false

# AI / OpenAI
AI_PROVIDER=openai
# Optional fallback key.
# Prefer storing this in Admin UI: /admin/api-keys (encrypted in DB)
AI_API_KEY=
AI_MODEL=gpt-4o-mini
AI_TIMEOUT_MS=30000
AI_EXPLAINER_TIMEOUT_MS=30000
AI_CACHE_TTL_SEC=300
AI_RATE_LIMIT_PER_MIN=60
AI_MAX_PAYLOAD_BYTES=65536
AI_MAX_HISTORY_BYTES=16384
AI_HISTORY_CONTEXT_MAX_BYTES=16384
PY_STRATEGY_ENABLED=false
PY_STRATEGY_URL=http://localhost:9000
PY_STRATEGY_TIMEOUT_MS=1200
PY_STRATEGY_AUTH_TOKEN=change_me
PY_TA_BACKEND=auto
PY_STRATEGY_CB_WINDOW_MS=60000
PY_STRATEGY_CB_MAX_FAILURES=5
PY_STRATEGY_CB_MAX_TIMEOUTS=3
PY_STRATEGY_CB_COOLDOWN_MS=60000
PREDICTION_AUTO_ENABLED=1
PREDICTION_AUTO_POLL_SECONDS=60
PREDICTION_AUTO_TEMPLATE_SCAN_LIMIT=300
PREDICTION_AUTO_MAX_RUNS_PER_CYCLE=25
PREDICTION_REFRESH_ENABLED=1
PREDICTION_REFRESH_SCAN_LIMIT=300
PREDICTION_REFRESH_MAX_RUNS_PER_CYCLE=25
PREDICTION_REFRESH_TRIGGER_MIN_AGE_SECONDS=120
PREDICTION_REFRESH_TRIGGER_PROBE_LIMIT=25
PREDICTION_REFRESH_AI_COOLDOWN_SECONDS=300
INDICATOR_SETTINGS_CACHE_TTL_SEC=120
PRED_TRIGGER_DEBOUNCE_SEC=90
PRED_AI_COOLDOWN_SEC=300
PRED_EVENT_THROTTLE_SEC=180
PRED_HYSTERESIS_RATIO=0.6
PRED_UNSTABLE_FLIP_LIMIT=4
PRED_UNSTABLE_FLIP_WINDOW_SECONDS=1800
PREDICTION_REFRESH_5M_SECONDS=180
PREDICTION_REFRESH_15M_SECONDS=300
PREDICTION_REFRESH_1H_SECONDS=600
PREDICTION_REFRESH_4H_SECONDS=1800
PREDICTION_REFRESH_1D_SECONDS=10800
PREDICTION_OUTCOME_HORIZON_BARS=12
PREDICTION_OUTCOME_EVAL_ENABLED=1
PREDICTION_OUTCOME_EVAL_POLL_SECONDS=60
PREDICTION_OUTCOME_EVAL_BATCH_SIZE=50
PREDICTION_EVALUATOR_ENABLED=1
PREDICTION_EVALUATOR_POLL_SECONDS=300
PREDICTION_EVALUATOR_BATCH_SIZE=100
PREDICTION_EVALUATOR_SAFETY_LAG_SECONDS=120
FEATURE_THRESHOLDS_CALIBRATION_ENABLED=1
FEATURE_THRESHOLDS_CALIBRATION_SCAN_MINUTES=10
FEATURE_THRESHOLDS_CACHE_TTL_SECONDS=600
FEATURE_THRESHOLDS_SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT,XRPUSDT,BNBUSDT
FEATURE_THRESHOLDS_TIMEFRAMES=5m,15m,1h,4h,1d
FEATURE_THRESHOLDS_MARKET_TYPES=perp
FEATURE_THRESHOLDS_WINSORIZE_PCT=0.01
FEATURE_THRESHOLDS_MAX_GAP_RATIO=0.05
VWAP_SESSION_CACHE_TTL_MS=120000
VWAP_SESSION_GAP_THRESHOLD=0.03
FVG_LOOKBACK_BARS=300
FVG_FILL_RULE=overlap

# Economic Calendar (FMP)
# Optional fallback key.
# Prefer storing this in Admin UI: /admin/api-keys (encrypted in DB)
FMP_API_KEY=
FMP_BASE_URL=https://financialmodelingprep.com
ECON_NEWS_RISK_ENABLED=1
ECON_CALENDAR_REFRESH_ENABLED=1
ECON_CALENDAR_REFRESH_INTERVAL_MINUTES=15
ECON_REDIS_EVENTS_TTL_SEC=21600
ECON_REDIS_NEXT_TTL_SEC=300
ECON_REDIS_BLACKOUT_TTL_SEC=120

# Runner
RUNNER_BOT_ID=local-bot-1
RUNNER_SYMBOL=USHARK_USDT
RUNNER_TICK_MS=800
ORCHESTRATION_MODE=poll

# Billing / Subscription (CCPayments)
CCPAY_APP_ID=
CCPAY_APP_SECRET=
CCPAY_BASE_URL=https://ccpayment.com
CCPAY_PRICE_FIAT_ID=1033
WEB_BASE_URL=http://localhost:3000
BILLING_PRO_MONTHLY_PRICE_CENTS=2900
BILLING_PRO_MONTHLY_AI_TOKENS=1000000
BILLING_PRO_MAX_RUNNING_BOTS=3
BILLING_PRO_MAX_BOTS_TOTAL=10
BILLING_AI_TOPUP_PRICE_CENTS=900
BILLING_AI_TOPUP_TOKENS=250000

# License gate (internal, subscription-backed)
LICENSE_ENFORCEMENT=on

# Queue / Redis (BullMQ)
REDIS_URL=redis://127.0.0.1:6379
QUEUE_PREFIX=utradevip
BOT_QUEUE_NAME=bots
WORKER_CONCURRENCY=10
WORKER_LOCK_DURATION_MS=60000
WORKER_STALLED_INTERVAL_MS=30000
WORKER_MAX_STALLED_COUNT=2
BOT_RATE_LIMIT_MAX=50
BOT_RATE_LIMIT_DURATION_MS=1000
BOT_JOB_ATTEMPTS=5
BOT_JOB_BACKOFF_MS=1000
GLOBAL_TRADING_ENABLED=true
BOT_CB_MAX_ERRORS=5
BOT_CB_WINDOW_SECONDS=300
BOT_CB_COOLDOWN_SECONDS=900
BOT_CB_ACTION=stop

# Encryption (32-byte raw OR 64-char hex OR base64(32-byte))
SECRET_MASTER_KEY=0123456789abcdef0123456789abcdef

# Re-auth
REAUTH_TTL_MIN=10
REAUTH_OTP_TTL_MIN=10

# SMTP (invites)
SMTP_HOST=smtp.example.com
SMTP_PORT=465
SMTP_USER=no-reply@example.com
SMTP_PASS=change_me
SMTP_FROM="uLiquid <no-reply@example.com>"
SMTP_SECURE=true
INVITE_BASE_URL=http://localhost:3000

# Telegram alerts (optional; DB settings can also be used)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
