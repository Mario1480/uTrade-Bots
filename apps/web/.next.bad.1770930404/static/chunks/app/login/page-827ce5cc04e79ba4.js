(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2883:(e,t,n)=>{"use strict";n.d(t,{$P:()=>h,Al:()=>m,GC:()=>p,Vg:()=>d,hD:()=>i,mu:()=>f});var s,a,r,l,u=n(7011);null!=(null!=(s=u.env.API_URL)?s:u.env.API_BASE_URL)||u.env.NEXT_PUBLIC_API_URL;let c=null!=(l=null!=(r=null!=(a=u.env.NEXT_PUBLIC_API_URL)?a:u.env.API_URL)?r:u.env.API_BASE_URL)?l:"http://localhost:4000";class i extends Error{constructor(e,t,n){super(e),this.status=t,this.payload=n}}async function o(e,t,n){let s={"Content-Type":"application/json"};if(!["GET","HEAD","OPTIONS"].includes(e)){let e=function(e){if("undefined"==typeof document)return null;let t=document.cookie.match(new RegExp("(^|; )".concat(e,"=([^;]*)")));return t?decodeURIComponent(t[2]):null}("mm_csrf");e&&(s["x-csrf-token"]=e)}let a=await fetch("".concat(c).concat(t),{method:e,headers:s,body:n?JSON.stringify(n):void 0,credentials:"include",cache:"no-store"});if(!a.ok){let n=null;try{n=await a.json()}catch(e){}throw new i((null==n?void 0:n.error)||(null==n?void 0:n.message)||"".concat(e," ").concat(t," failed (").concat(a.status,")"),a.status,n)}return a.json()}function d(e){return o("GET",e)}function h(e,t){return o("POST",e,t)}function f(e,t){return o("PUT",e,t)}function m(e){return o("DELETE",e)}function p(e){return o("DELETE",e)}},6010:(e,t,n)=>{Promise.resolve().then(n.bind(n,8765))},7541:(e,t,n)=>{"use strict";var s=n(3041);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})},8765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var s=n(4568),a=n(9664),r=n.n(a),l=n(7541),u=n(7620),c=n(2883);function i(){let e=(0,l.useRouter)(),[t,n]=(0,u.useState)(""),[a,i]=(0,u.useState)(""),[o,d]=(0,u.useState)(""),[h,f]=(0,u.useState)("");async function m(n){n.preventDefault(),d("signing in..."),f("");try{await (0,c.$P)("/auth/login",{email:t,password:a}),e.push("/")}catch(e){d(""),f(e instanceof c.hD?"".concat(e.message," (HTTP ").concat(e.status,")"):e&&"object"==typeof e&&"message"in e?String(e.message):String(e))}}return(0,s.jsxs)("div",{className:"container",style:{maxWidth:520},children:[(0,s.jsx)("h1",{style:{marginTop:0},children:"Sign In"}),(0,s.jsx)("div",{className:"card",style:{padding:16},children:(0,s.jsxs)("form",{onSubmit:m,style:{display:"grid",gap:12},children:[(0,s.jsxs)("label",{style:{fontSize:13},children:["Email",(0,s.jsx)("input",{className:"input",type:"email",value:t,onChange:e=>n(e.target.value),placeholder:"you@example.com",required:!0})]}),(0,s.jsxs)("label",{style:{fontSize:13},children:["Password",(0,s.jsx)("input",{className:"input",type:"password",value:a,onChange:e=>i(e.target.value),placeholder:"••••••••",required:!0})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[(0,s.jsx)("button",{className:"btn btnPrimary",type:"submit",disabled:!t||!a,children:"Sign in"}),(0,s.jsx)(r(),{href:"/register",className:"btn",children:"Create account"}),(0,s.jsx)(r(),{href:"/reset-password",className:"btn",children:"Forgot password?"}),(0,s.jsx)("span",{style:{fontSize:12,opacity:.7},children:o})]}),h?(0,s.jsx)("div",{style:{fontSize:12,color:"#ef4444"},children:h}):null]})})]})}}},e=>{e.O(0,[664,587,18,358],()=>e(e.s=6010)),_N_E=e.O()}]);